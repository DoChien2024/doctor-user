<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title th:text="${service != null && service.id != null ? 'Sửa dịch vụ' : 'Thêm dịch vụ'}">Dịch vụ</title>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
<div th:replace="fragments/header :: header"></div>

<div class="container mt-4">
    <div class="page-head">
        <h3 th:text="${service != null && service.id != null ? 'Sửa dịch vụ' : 'Thêm dịch vụ'}">Form</h3>
    </div>

    <div th:if="${error}" class="alert alert-danger" th:text="${error}">Lỗi</div>

    <form th:action="${service != null and service.id != null} ? @{|/admin/services/${service.id}/edit|} : @{/admin/services/new}"
          method="post" th:object="${service}">
        <div class="row g-3">
            <div class="col-md-6">
                <label class="form-label">Tên dịch vụ</label>
                <input class="form-control" type="text" th:field="*{name}" required>
            </div>
            <div class="col-md-6">
                <label class="form-label">Giá</label>
                <input class="form-control" type="number" step="0.01" th:field="*{price}" required>
            </div>

            <div class="col-md-12">
                <label class="form-label">Mô tả</label>
                <textarea class="form-control" rows="3" th:field="*{description}" required></textarea>
            </div>

            <div class="col-md-6">
                <label class="form-label">Ảnh (URL)</label>
                <input class="form-control" type="text" th:field="*{imageUrl}">
            </div>
            <div class="col-md-3">
                <label class="form-label">Thời lượng (phút)</label>
                <input class="form-control" type="number" th:field="*{duration}">
            </div>
            <div class="col-md-3">
                <label class="form-label">Danh mục</label>
                <input class="form-control" type="text" th:field="*{category}">
            </div>

            <div class="col-md-12">
                <label class="form-label">Lợi ích</label>
                <textarea class="form-control" rows="2" th:field="*{benefits}"></textarea>
            </div>
            <div class="col-md-12">
                <label class="form-label">Các bước thực hiện</label>
                <textarea class="form-control" rows="2" th:field="*{steps}"></textarea>
            </div>

            <div class="col-md-3">
                <label class="form-label">Đánh giá TB</label>
                <input class="form-control" type="number" step="0.1" th:field="*{rating}">
            </div>
            <div class="col-md-3">
                <label class="form-label">Trạng thái</label>
                <select class="form-select" th:field="*{status}">
                    <option th:value="true">Đang bán</option>
                    <option th:value="false">Ngưng</option>
                </select>
            </div>
        </div>

        <div class="form-actions">
            <button class="btn btn-primary" type="submit"><i class="bi bi-save"></i> Lưu</button>
            <a class="btn btn-secondary" th:href="@{/admin/services}">Hủy</a>
        </div>

        <input th:if="${_csrf != null}" type="hidden"
               th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
    </form>
</div>
</body>
</html>
